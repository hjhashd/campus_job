<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>原始导航栏 - 甄企宝</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-top: 70px; /* 保持这个值 */
        }

    </style>
</head>
<body>
<!-- 原始导航栏 - 仅移除AI助手 -->
<nav th:fragment="navbar"
     class="navbar navbar-expand-lg fixed-top"
     style="padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
    <div class="container">
        <a class="navbar-brand fw-bold d-flex align-items-center" href="/" style="color: #1e293b;">
            <i class="fas fa-shield-alt me-2" style="color: #2563eb;"></i>
            <span>甄企宝</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="/" style="color: #1e293b; font-weight: 500;">
                        <i class="fas fa-home d-lg-none me-2"></i>首页
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/nav/search" style="color: #475569; font-weight: 500;">
                        <i class="fas fa-search d-lg-none me-2"></i>职位搜索
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="servicesDropdown" role="button" data-bs-toggle="dropdown" style="color: #475569; font-weight: 500;">
                        <i class="fas fa-concierge-bell d-lg-none me-2"></i>服务
                    </a>
                    <ul class="dropdown-menu" style="border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border: none;">
                        <li><a class="dropdown-item" href="/company/auth" style="padding: 0.5rem 1rem;"><i class="fas fa-shield-alt me-2" style="color: #2563eb;"></i>企业认证</a></li>
                        <li><a class="dropdown-item" href="#" style="padding: 0.5rem 1rem;"><i class="fas fa-balance-scale me-2" style="color: #10b981;"></i>法律援助</a></li>
                        <li><a class="dropdown-item" href="/company/jobs" style="padding: 0.5rem 1rem;"><i class="fas fa-file-contract me-2" style="color: #f59e0b;"></i>企业中心</a></li>
                        <li><a class="dropdown-item" href="/reviews" style="padding: 0.5rem 1rem;"><i class="fas fa-star me-2" style="color: #3b82f6;"></i>职位评价</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/company/talent/center" style="color: #475569; font-weight: 500;">
                        <i class="fas fa-info-circle d-lg-none me-2"></i>人才库
                    </a>
                </li>
            </ul>

            <!-- 右侧功能区 -->
            <div class="d-flex align-items-center">
                <!-- 通知系统 -->
                <div sec:authorize="isAuthenticated()" class="d-flex align-items-center me-3">
                    <div class="dropdown">
                        <a href="#" class="position-relative text-muted" data-bs-toggle="dropdown" style="color: #64748b;">
                            <i class="fas fa-bell fs-5"></i>
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill"
                                  style="background-color: #ef4444; color: white; font-size: 0.65rem; padding: 0.25em 0.45em;">3</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end p-2"
                             style="min-width: 300px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border: none;">
                            <h6 class="dropdown-header" style="font-weight: 600;">通知</h6>

                            <!-- 学生用户通知 -->
                            <div sec:authorize="hasRole('STUDENT')">
                                <a class="dropdown-item d-flex align-items-center py-2" href="#">
                                    <div class="rounded-circle p-2 me-2" style="background: #2563eb; color: white;">
                                        <i class="fas fa-briefcase"></i>
                                    </div>
                                    <div>
                                        <div class="small">您有3份新职位推荐</div>
                                        <div class="text-muted small">昨天</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center py-2" href="#">
                                    <div class="rounded-circle p-2 me-2" style="background: #10b981; color: white;">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div>
                                        <div class="small">简历被华为查看</div>
                                        <div class="text-muted small">3小时前</div>
                                    </div>
                                </a>
                            </div>

                            <!-- 企业用户通知 -->
                            <div sec:authorize="hasRole('COMPANY')">
                                <a class="dropdown-item d-flex align-items-center py-2" href="#">
                                    <div class="rounded-circle p-2 me-2" style="background: #10b981; color: white;">
                                        <i class="fas fa-user-graduate"></i>
                                    </div>
                                    <div>
                                        <div class="small">收到5份新简历</div>
                                        <div class="text-muted small">1小时前</div>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center py-2" href="#">
                                    <div class="rounded-circle p-2 me-2" style="background: #3b82f6; color: white;">
                                        <i class="fas fa-certificate"></i>
                                    </div>
                                    <div>
                                        <div class="small">企业认证已通过</div>
                                        <div class="text-muted small">2小时前</div>
                                    </div>
                                </a>
                            </div>

                            <!-- 管理员通知 -->
                            <div sec:authorize="hasRole('ADMIN')">
                                <a class="dropdown-item d-flex align-items-center py-2" href="#">
                                    <div class="rounded-circle p-2 me-2" style="background: #f59e0b; color: white;">
                                        <i class="fas fa-exclamation-circle"></i>
                                    </div>
                                    <div>
                                        <div class="small">3家企业等待认证</div>
                                        <div class="text-muted small">30分钟前</div>
                                    </div>
                                </a>
                            </div>

                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-center small" href="#">查看所有通知</a>
                        </div>
                    </div>
                </div>

                <!-- 用户菜单 -->
                <div class="d-flex align-items-center">
                    <div sec:authorize="isAnonymous()">
                        <a href="/toLogin" class="btn btn-sm me-2"
                           style="border: 1px solid #2563eb; color: #2563eb; border-radius: 6px; padding: 0.4rem 0.8rem;">
                            登录
                        </a>
                        <a href="/register" class="btn btn-sm"
                           style="background: linear-gradient(135deg, #2563eb, #4f46e5); color: white; border: none; border-radius: 6px; padding: 0.4rem 0.8rem;">
                            注册
                        </a>
                    </div>

                    <div sec:authorize="isAuthenticated()" class="d-flex align-items-center">
                        <div class="dropdown">
                            <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown">
                                <div class="position-relative">
                                    <div class="rounded-circle"
                                         style="width: 40px; height: 40px; background: linear-gradient(135deg, #2563eb, #4f46e5);
                                                display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">
                                        <!-- 安全表达式 -->
                                        <span th:text="${#authentication?.principal?.username != null
                                  ? #strings.substring(#authentication.principal.username,0,1)
                                  : '?'}"></span>
                                    </div>
                                    <span class="position-absolute bottom-0 end-0 p-1 bg-success border border-2 border-white rounded-circle"></span>
                                </div>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end"
                                style="border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border: none;">
                                <li class="px-3 py-2 border-bottom">
                                    <div class="fw-bold" sec:authentication="name"></div>
                                    <small class="text-muted" sec:authorize="hasRole('STUDENT')">
                                        <i class="fas fa-user-graduate me-1" style="color: #2563eb;"></i>学生用户
                                    </small>
                                    <small class="text-muted" sec:authorize="hasRole('COMPANY')">
                                        <i class="fas fa-building me-1" style="color: #10b981;"></i>企业用户
                                    </small>
                                    <small class="text-muted" sec:authorize="hasRole('ADMIN')">
                                        <i class="fas fa-cog me-1" style="color: #f59e0b;"></i>管理员
                                    </small>
                                </li>

                                <li sec:authorize="hasRole('ADMIN')">
                                    <a class="dropdown-item" href="/dashboard" style="padding: 0.5rem 1rem;">
                                        <i class="fas fa-cog me-2" style="color: #f59e0b;"></i>管理后台
                                    </a>
                                </li>

                                <li><hr class="dropdown-divider" style="margin: 0.3rem 0;"></li>

                                <li>
                                    <a class="dropdown-item" href="#" style="padding: 0.5rem 1rem;">
                                        <i class="fas fa-user-cog me-2" style="color: #3b82f6;"></i>账户设置
                                    </a>
                                </li>

                                <li><hr class="dropdown-divider" style="margin: 0.3rem 0;"></li>

                                <li>
                                    <form th:action="@{/logout}" method="post">
                                        <button type="submit" class="dropdown-item"
                                                style="padding: 0.5rem 1rem; color: #ef4444; background: none; border: none; text-align: left; width: 100%;">
                                            <i class="fas fa-sign-out-alt me-2"></i>退出登录
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- 滚动效果和活动状态脚本 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const navbar = document.querySelector('.navbar');
        if (navbar) {
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    navbar.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
                    navbar.style.padding = '0.5rem 1rem';
                } else {
                    navbar.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                    navbar.style.padding = '0.8rem 1rem';
                }
            });
        }

        // 为导航链接添加活动状态
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });
    });
</script>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card border-0 shadow-sm rounded-3">
                <div class="card-body p-5">
                    <h1 class="text-center mb-4">原始导航栏样式</h1>
                    <p class="lead text-center text-muted mb-5">
                        已完全移除AI助手功能，保留原始设计
                    </p>

                    <div class="d-flex justify-content-center mb-4">
                        <div class="p-4 rounded bg-light">
                            <div class="d-flex">
                                <div class="rounded-circle"
                                     style="width: 40px; height: 40px; background: linear-gradient(135deg, #2563eb, #4f46e5);
                                            display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">
                                    A
                                </div>
                                <div class="ms-3">
                                    <div class="fw-bold">管理员用户</div>
                                    <small class="text-muted">已登录状态</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-primary">
                        <h5>修改说明：</h5>
                        <ul>
                            <li>完全移除了所有AI助手相关按钮和链接</li>
                            <li>保留了原始导航栏的所有视觉设计</li>
                            <li>维持了原有的布局结构和间距</li>
                            <li>用户菜单中移除了AI助手选项</li>
                            <li>保留了原有的滚动效果和活动状态</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:src="@{'/webjars/bootstrap/5.3.2/js/bootstrap.bundle.js'}"></script>
</body>
</html>